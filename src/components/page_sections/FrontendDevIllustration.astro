---
import Icon from "@components/Icon.astro";
---

<div class="service-illustration">
  <div class="screen">
    <div class="relative">
      <div class="controls | cluster">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <span class="file-name">project/styles.css</span>
    </div>
    <div class="text-wrapper">
      <pre>
        <code class="atom-one-dark">
            <div class="element-heading">
                <span><span style="color: var(--token-selector-element);">h3 </span><span style="color: var(--token-bracket);">&#123;</span></span>
                <span><span>&nbsp;&nbsp;</span><span>font-family: </span><span style="color: var(--token-value-string);">"Body Grotesque"</span><span>&#59;</span></span>
                <span><span>&nbsp;&nbsp;</span><span>font-weight: </span><span style="color: var(--token-value-number);">800</span><span>&#59;</span></span>
                <span><span>&nbsp;&nbsp;</span><span>font-size: </span><span style="color: var(--token-variable-keyword);">var</span><span style="color: var(--token-function-parens);">&#40;</span><span style="color: var(--token-custom-property);">--fluid-size-1</span><span style="color: var(--token-function-parens);">&#41;</span><span>&#59;</span></span>
                <span><span style="color: var(--token-bracket);">&#125;</span></span>
            </div>
            <div class="element-card">
                <span><span style="color: var(--token-selector-class);">.card </span><span style="color: var(--token-bracket);">&#123;</span></span>
                <span><span>&nbsp;&nbsp;</span><span style="color: var(--token-custom-property);">--flow-space: </span><span style="color: var(--token-variable-keyword);">var</span><span style="color: var(--token-function-parens);">&#40;</span><span style="color: var(--token-custom-property);">--space-m</span><span style="color: var(--token-function-parens);">&#41;</span><span>&#59;</span></span>
                <span><span>&nbsp;&nbsp;</span><span>padding: </span><span style="color: var(--token-variable-keyword);">var</span><span style="color: var(--token-function-parens);">&#40;</span><span style="color: var(--token-custom-property);">--space-m</span><span style="color: var(--token-function-parens);">&#41;</span><span>&#59;</span></span>
                <span><span>&nbsp;&nbsp;</span><span>border: </span><span style="color: var(--token-value-number);">1px </span><span>solid </span><span style="color: var(--token-variable-keyword);">var</span><span style="color: var(--token-function-parens);">&#40;</span><span style="color: var(--token-custom-property);">--neutral-2</span><span style="color: var(--token-function-parens);">&#41;</span><span>&#59;</span></span>
                <span><span>&nbsp;&nbsp;</span><span>border-radius: </span><span style="color: var(--token-value-number);">0.5rem</span><span>&#59;</span></span>
                <span><span style="color: var(--token-bracket);">&#125;</span></span>
            </div>
        </code>
      </pre>
    </div>
  </div>
  <div class="fake-card | flow">
    <div class="fake-image"><Icon name="image" size="32" /></div>
    <p class="fake-heading">Case Study</p>
    <p>Brilliant preview of a brilliant case study.</p>
  </div>
  <svg
    width="900"
    height="600"
    viewBox="0 0 900 600"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g class="background-shapes">
      <path
        d="M300 0.000866771C299.704 0.000866771 299.409 0 299.112 0C133.918 0 0 133.917 0 299.112L0.00173354 300L300 300L300 0.000866771Z"
        fill="#334155"></path>
      <path
        d="M300 299.999C300.296 299.999 300.591 300 300.888 300C466.082 300 600 166.083 600 0.887615L599.998 3.81468e-05L300 1.19201e-05L300 299.999Z"
        fill="#FF426C"></path>
      <path
        d="M-2.26498e-05 599.999C0.296413 599.999 0.591118 600 0.887554 600C166.082 600 300 466.083 300 300.888L299.998 300L-4.88766e-05 300L-2.26498e-05 599.999Z"
        fill="#FF426C"></path>
      <path
        d="M599.999 600C599.999 599.704 600 599.409 600 599.112C600 433.918 466.083 300 300.888 300L300 300.002L300 600L599.999 600Z"
        fill="#2FC2D7"></path>
      <circle cx="750" cy="450" r="150" fill="#2FC2D7"></circle>
    </g>
  </svg>
</div>

<style>
  .service-illustration svg {
    background-color: var(--color-secondary-1);
  }

  .screen {
    position: absolute;
    width: min(57%, 21rem);
    height: calc(100% - 4rem);
    margin-inline: 2rem;
    top: calc(50% + 0.25rem);
    left: 0;
    transform: translateY(-50%);
    z-index: 5;
    border: 1px solid var(--color-neutral-8);
    border-radius: 1rem;
    background-color: rgba(29, 37, 48, 0.9);
    backdrop-filter: blur(12px);
    overflow: hidden;
  }

  .controls {
    margin: 1rem;

    &.cluster {
      --cluster-space: 0.33rem;
    }

    & > * {
      display: inline-block;
      height: 10px;
      width: 10px;
      border-radius: 999px;
    }

    & > :nth-child(1) {
      background-color: var(--color-primary-8);
    }

    & > :nth-child(2) {
      background-color: var(--color-secondary-8);
    }

    & > :nth-child(3) {
      background-color: var(--color-neutral-7);
    }
  }

  .text-wrapper {
    position: relative;
    margin: 1rem;
    margin-block-start: 2rem;
    padding-block: 0.5rem;
    padding-inline: 0.75rem;
    height: auto;
    font-size: 12px;
    background-color: rgba(48, 61, 80, 0.3);
    border: 1px solid var(--color-neutral-8);
    border-radius: 9px;
    color: #c8ccd4;
  }

  .fake-card {
    position: absolute;
    width: 30%;
    top: 50%;
    transform: translateY(-50%);
    right: 2rem;
    z-index: 5;
    padding: 0.75rem;
    background-color: white;
    border: 1px solid var(--color-neutral-2);
    border-radius: var(--rounded-corners);
    font-size: 14px;
    line-height: 1.4;
    transition: all 0.2s ease-out;

    &.flow {
      --flow-space: 0.75rem;
    }

    & .fake-image {
      display: flex;
      justify-content: center;
      align-items: center;
      aspect-ratio: 16/9;
      height: auto;
      color: var(--color-neutral-3);
      background-color: var(--color-neutral-1);
      /* color: var(--color-secondary-5);
      background: linear-gradient(
        to bottom right,
        var(--color-secondary-2),
        var(--color-secondary-1)
      ); */
      border-radius: 4px;
      transition: all 0.2s ease-out;
    }

    & .fake-heading {
      font-family: var(--font-heading);
      font-size: 16px;
      line-height: 1.2;
      text-decoration: 2px underline transparent;
      transition: all 0.2s ease-out;
    }
  }

  .file-name {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.2ex;
    color: var(--color-neutral-4);
    position: absolute;
    top: -1px;
    right: 2rem;
    text-align: right;
  }

  pre,
  code {
    font-family: var(--font-code);
    margin: 0;
    white-space: pre-line;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .atom-one-dark {
    --token-selector-element: #e06c75;
    --token-selector-class: #d19a66;
    --token-bracket: #e5c07b;
    --token-value-string: #98c379;
    --token-value-number: #d19a66;
    --token-custom-property: #e06c75;
    --token-variable-keyword: #61afef;
    --token-function-parens: #c678dd;
  }

  :is(.element-heading, .element-card) {
    position: relative;
    display: flex;
    flex-direction: column;
    opacity: 0.75;
    mix-blend-mode: luminosity;
    transition: all 0.2s;

    &:hover {
      opacity: 1;
      mix-blend-mode: normal;
      cursor: default;
    }
  }

  .screen:has(.element-heading:hover) + .fake-card .fake-heading {
    color: var(--color-primary-5);
    text-decoration-color: var(--color-primary-2);
  }

  .screen:has(.element-card:hover) + .fake-card {
    border-color: var(--color-secondary-3);
  }

  .screen:has(.element-card:hover) + .fake-card .fake-image {
    color: var(--color-secondary-5);
    background-color: var(--color-secondary-1);
  }

  @media (max-width: 480px) {
    .screen {
      width: calc(100% - 2rem);
      height: calc(100% - 2rem);
      margin-inline: 1rem;
    }

    .controls,
    .text-wrapper {
      margin: 0.75rem;
    }

    .text-wrapper {
      margin-block-start: 1rem;
    }

    .file-name {
      right: 1rem;
    }

    .fake-card {
      display: none;
    }

    .element-heading {
      opacity: 1;
      mix-blend-mode: normal;
    }
  }
</style>
