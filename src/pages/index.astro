---
import Layout from "@layouts/Layout.astro";
import Card from "@components/Card.astro";
import ButtonLink from "@components/ButtonLink.astro";
import SectionHeader from "@components/SectionHeader.astro";
import ServicesGrid from "@components/page_sections/ServicesGrid.astro";
import Tools from "@components/page_sections/Tools.astro";
import HomeHero from "@components/page_sections/HomeHero.astro";
import FeaturedProject from "@components/page_sections/FeaturedProject.astro";
import Testimonials from "@components/page_sections/Testimonials.astro";
import CTA from "@components/page_sections/CTA.astro";
import { Image } from "astro:assets";
import { getEntries } from "astro:content";
import { getCollection, getEntry } from "astro:content";
// const features = await getCollection("features");
const services = await getCollection("services");
const featuredProject = await getEntry("projects", "haymarket-writing-freedom");
// const tools = await getCollection("tools");
// const features = await getEntries(services)

import shapes1 from "@assets/shapes-1.png";
import illustration1 from "@assets/illustration-1.png";
import illustration2 from "@assets/illustration-2.png";
import illustration3 from "@assets/illustration-3.png";
---

<Layout>
  <main slot="content">
    <HomeHero />
    <div class="content-offset">
      <div class="section-bg-gradient">
        <article class="content-wrapper" id="services">
          <SectionHeader align="left">
            <Fragment slot="text">
              <div class="eyebrow | small-title text-gradient">
                Our Services
              </div>
              <h2 class="text-step-4">
                Bridging the realms of design & development
              </h2>
            </Fragment>
            <Image
              slot="image"
              src={shapes1}
              alt=""
              width={600}
              format="webp"
              loading="eager"
            />
          </SectionHeader>
          <ServicesGrid
            entries={services.sort((a, b) => a.data.order - b.data.order)}
          />
          <Tools />
          <!-- <div class="small-title text-gradient mx-auto">Our Tools</div>
          <div class="logo-cloud | grid-6 centered">
            {
              tools
                .sort((a, b) => a.data.order - b.data.order)
                .map((tool) => (
                  <div class="cluster">
                    <Image
                      src={tool.data.logo}
                      alt={`${tool.data.title} logo`}
                      width={32}
                      height={32}
                      format="svg"
                    />
                    <span>{tool.data.title}</span>
                  </div>
                ))
            }
          </div> -->
        </article>
      </div>
    </div>
    <article class="content-wrapper section-spacer" id="approach">
      <SectionHeader align="center">
        <Fragment slot="text">
          <div class="eyebrow | small-title text-gradient mx-auto">
            Our Approach
          </div>
          <h2 class="text-step-4">
            Crafting beautiful experiences for the modern web
          </h2>
        </Fragment>
      </SectionHeader>
      <div class="grid-6">
        <Card>
          <Image
            class="illustration"
            src={illustration1}
            alt=""
            width={600}
            format="webp"
            loading="eager"
          />
          <h3 class="text-step-2">Heading</h3>
          <p>
            We understand the entire picture As a web studio in Los Angeles, we
            bridge the re
          </p>
        </Card>
        <Card>
          <Image
            class="illustration"
            src={illustration2}
            alt=""
            width={600}
            format="webp"
            loading="eager"
          />
          <h3 class="text-step-2">Heading</h3>
          <p>
            We understand the entire picture As a web studio in Los Angeles, we
            bridge the re
          </p>
        </Card>
        <Card>
          <Image
            class="illustration"
            src={illustration3}
            alt=""
            width={600}
            format="webp"
            loading="eager"
          />
          <h3 class="text-step-2">Heading</h3>
          <p>
            We understand the entire picture As a web studio in Los Angeles, we
            bridge the re
          </p>
        </Card>
      </div>
      <div class="center-all">
        <ButtonLink href="/our-approach">Our Approach</ButtonLink>
      </div>
    </article>
    <FeaturedProject project={featuredProject} />
    <Testimonials />
    <CTA />
  </main>
</Layout>

<style></style>
